---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import BioPreview from '../components/BioPreview.astro';
import Featured from '../components/Featured.astro';
import { getEntry } from 'astro:content';

const homePage = await getEntry('pages', 'home');
const { data: home } = homePage || { data: {} };

// Hi, I'm Ben, the Lawyer
---

<Layout title="Ben, the Lawyer | Advocate, Researcher, Teacher">
  <main>
    <!-- Combined Header Section -->
    <section class="relative w-full min-h-[85vh] flex items-center bg-canvas overflow-hidden pt-20 pb-10">
      
      <!-- Shared Background SVG -->
      <div class="absolute inset-0 z-0 opacity-10 pointer-events-none">
        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full object-cover">
          <circle cx="20" cy="20" r="40" fill="var(--color-sage)" />
          <circle cx="80" cy="80" r="30" fill="var(--color-adobe)" />
        </svg>
      </div>

      <div class="relative z-10 max-w-7xl mx-auto px-6 w-full">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-12 items-center">
          
          <!-- Left Col: Hero Greeting (7 cols) -->
          <div class="md:col-span-7 lg:col-span-8">
             <Hero 
               title={home.heroTitle}
               subtitle={home.heroDescription}
             />
          </div>

          <!-- Right Col: Bio Card (5 cols) -->
          <div class="md:col-span-5 lg:col-span-4 h-full">
             <BioPreview 
               title={home.bioTitle}
               text={home.bioText}
             />
          </div>

        </div>
      </div>
    </section>

    <Featured />
  </main>
</Layout>
